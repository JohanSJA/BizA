{% extends 'base_app.html' %}

{% block breadcrumb %}
  <li><a href='{% url "employees_dashboard" %}'>Home</a></li>
  <li><a href='{% url "products_product_list" %}'>Products</a></li>
  <li class='active'>{{ object.code }}</li>
{% endblock %}

{% block content_app %}
  <div class='row'>
    <div class='col-md-4'>
      <h2>
        General Info
        <small>
          <a href='{% url "products_product_edit" object.pk %}'>
            <span class='glyphicon glyphicon-edit'></span> Edit
          </a>
        </small>
      </h2>

      <hr>

      <dl class='dl-horizontal'>
        <dt>Code</dt>
        <dd>{{ object.code }}</dd>
        <dt>Name</dt>
        <dd>{{ object.name }}</dd>
        <dt>Barcode</dt>
        <dd>{{ object.barcode }}</dd>
        <dt>Unit</dt>
        <dd>{{ object.unit }}</dd>
      </dl>
    </div>

    <div class='col-md-4'>
      <h2>
        Components
        <small>
          <a href='{% url "products_component_new" object.pk %}'>
            <span class='glyphicon glyphicon-plus'></span> Add
          </a>
        </small>
      </h2>

      <hr>

      <table class='table table-striped table-responsive'>
        <thead>
          <tr>
            <th>Product</th>
            <th>Quantity</th>
            <th>Unit</th>
          </tr>
        </thead>
        <tbody>
          {% for comp in object.component_set.all %}
            <tr>
              <td>{{ comp.component }}</td>
              <td>{{ comp.quantity }}</td>
              <td>{{ comp.component.unit }}</td>
            </tr>
          {% empty %}
            <tr>
              <td colspan='3'>No components</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class='col-md-4'>
      <h2>
        Quantities
        <small>
          <a href='{% url "products_quantity_new" object.pk %}'>
            <span class='glyphicon glyphicon-plus'></span> Add
          </a>
        </small>
      </h2>

      <hr>

      <table class='table table-striped table-responsive'>
        <thead>
          <tr>
            <th>Warehouse</th>
            <th>Changes</th>
            <th>Balance</th>
        </thead>
        <tbody>
          {% for qty in object.quantity_set.all %}
            <tr>
              <td>{{ qty.warehouse }}</td>
              <td>{{ qty.changes }}</td>
              <td>{{ qty.balance }}</td>
            </tr>
          {% empty %}
            <tr>
              <td colspan='3'>No available quantity</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
