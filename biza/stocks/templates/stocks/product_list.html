{% extends "base_app.html" %}

{% block content_app %}
  <div class="row">
    <div class="col-lg-12">
      {% include "page_header.html" with page_header="Products" %}

      <p>
        {% if user.employee.hq %}
          <a href="{% url 'stocks_item_new' %}" class="btn btn-default"><span class="glyphicon glyphicon-plus"></span> New Item</a>
          <a href="{% url 'stocks_package_new' %}" class="btn btn-default"><span class="glyphicon glyphicon-plus"></span> New Package</a>
        {% endif %}
      </p>

      <table class="table table-striped table-responsive">
        <tr>
          <th>Name</th>
          <th>Barcode</th>
          <th class="text-right">Retail Price<br />(RM)</th>
          {% if user.employee.hq %}
            <th class="text-right">Wholesale Price<br />(RM)</th>
            <th>&nbsp;</th>
          {% endif %}
        </tr>
        {% for obj in object_list %}
          <tr>
            <td><a href="{% url 'stocks_product_detail' obj.id %}">{{ obj.name }}</a></td>
            <td>{{ obj.barcode }}</td>
            <td class="text-right">{{ obj.retail_price|floatformat:"2" }}</td>
            {% if user.employee.hq %}
              <td class="text-right">{{ obj.wholesale_price|floatformat:"2" }}</td>
              <td>
                {% if obj.is_package %}
                  <a href="{% url 'stocks_package_edit' obj.id %}"><span class="glyphicon glyphicon-edit"></span> Edit</a>
                {% else %}
                  <a href="{% url 'stocks_item_edit' obj.id %}"><span class="glyphicon glyphicon-edit"></span> Edit</a>
                {% endif %}
              </td>
            {% endif %}
          </tr>
        {% endfor %}
      </table>
    </div>
  </div>
{% endblock %}
