{% load widget_tweaks %}

{{ form.non_field_errors }}

{% for field in form.hidden_fields %}
  {{ hidden }}
{% endfor %}

{% for field in form.visible_fields %}
  {{ field|widget_type }}
  <div class='form-group{% if field.errors %} has-error{% endif %}'>
    {% if field|widget_type == 'checkboxinput' %}
      <div class='col-lg-6 col-lg-offset-2'>
        <div class='checkbox'>
          <label>
            {{ field }} {{ field.label }}
          </label>
        </div>
      </div>
    {% else %}
      <label for='{{ field.id_for_label }}' class='col-lg-2 control-label'>
        {{ field.label }}
      </label>
      <div class='col-lg-6'>
        {% if field|widget_type == 'select' %}
          {{ field|attr:'data-live-search:true'|add_class:'form-control' }}
        {% else %}
          {{ field|add_class:'form-control' }}
        {% endif %}
      </div>
    {% endif %}
    <div class='col-lg-4'>
      {% if field.errors %}
        <ul>
          {% for error in field.errors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
      {% elif field.help_text %}
        <p class='help-block'>{{ field.help_text }}</p>
      {% endif %}
    </div>
  </div>
{% endfor %}
