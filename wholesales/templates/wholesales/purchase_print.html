{% extends 'base_print.html' %}

{% block content %}
<div class='container'>
  <div class='row'>
    <div class='col-xs-4'>
      <h1>Cheantar Electronics Sdn. Bhd.</h1>
      <p>HQ: 4388, Jalan Heng Choon Thian, 12000 Butterworth, Penang.</p>
    </div>

    <div class='col-xs-4'>
      <h2>To</h2>
      <p>{{ purchase.partner.name }}</p>
      <p>{{ purchase.partner.address|linebreaks }}</p>
    </div>

    <div class='col-xs-4'>
      <h2 class='text-right'>Purchase Order</h2>
      <dl class='dl-horizontal'>
        <dt>Number</dt>
        <dd>{{ purchase.purchaseorder.pk }}</dd>
      </dl>
    </div>
  </div>

  <div class='row'>
    <div class='col-xs-12'>
      {% with purchase.purchaseline_set.all as line_list %}
      <table class='table table-bordered'>
        <thead>
          <tr>
            <th>Description</th>
            <th class='text-right'>Unit Price (RM)</th>
            <th class='text-right'>Quantity</th>
            <th class='text-right'>Subtotal (RM)</th>
          </tr>
        </thead>
        <tfoot>
          <tr>
            <td colspan='3' class='text-right'><strong>Total (RM)</strong></td>
            <td class='text-right'>{{ purchase.total_price|floatformat:'2' }}</td>
          </tr>
        </tfoot>
        <tbody>
          {% for line in line_list %}
          <tr>
            <td>{{ line.stock.name }}</td>
            <td class='text-right'>{{ line.unit_price|floatformat:'2' }}</td>
            <td class='text-right'>{{ line.quantity }}</td>
            <td class='text-right'>{{ line.price|floatformat:'2' }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% endwith %}
    </div>
  </div>
</div>
{% endblock %}
