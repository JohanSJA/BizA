{% extends 'base_app.html' %}

{% block breadcrumb %}
<li><a href='{% url "home" %}'>Home</a></li>
<li>Wholesales</li>
<li class='active'>Purchases</li>
{% endblock %}

{% block content_app %}
<div class='well well-sm'>
  <div class='btn-group'>
    <a href='{% url "wholesales-purchase-new" %}' class='btn btn-default'>New</a>
  </div>
</div>

<table class='table table-striped table-hover table-bordered table-responsive'>
  <thead>
    <tr>
      <th>No.</th>
      <th>Partner</th>
      <th>Order Number</th>
      <th>Invoice Number</th>
      <th class='text-right'>Total Price (RM)</th>
    </tr>
  </thead>
  <tfoot>
    <tr>
      <td colspan='5'>Total {{ purchase_list|length }} purchase{{ purchase_list|pluralize }}.</td>
    </tr>
  </tfoot>
  <tbody>
    {% for purchase in purchase_list %}
    <tr>
      <td><a href='{% url "wholesales-purchase-detail" purchase.pk %}'>{{ forloop.counter }}</a></td>
      <td><a href='{% url "wholesales-partner-detail" purchase.partner.pk %}'>{{ purchase.partner.name }}</a></td>
      <td>{% if purchase.ordered %}{{ purchase.purchaseorder.pk }}{% else %}---{% endif %}</td>
      <td>{% if purchase.invoiced %}{{ purchase.purchaseinvoice.number }}{% else %}---{% endif %}</td>
      <td class='text-right'>{{ purchase.total_price|floatformat:'2' }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
